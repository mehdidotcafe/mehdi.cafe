{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _classCallCheck from \"/home/meddou/projects/perso/meddou.com/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/meddou/projects/perso/meddou.com/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/meddou/projects/perso/meddou.com/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/meddou/projects/perso/meddou.com/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/meddou/projects/perso/meddou.com/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/meddou/projects/perso/meddou.com/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/home/meddou/projects/perso/meddou.com/src/pages/Project.jsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { withRouter } from 'next/router';\nimport Link from 'next/link';\nimport Slider from 'react-slick';\nimport moment from 'moment';\nimport 'moment/locale/fr';\nimport BasicPage from './BasicPage';\nimport Row from '../layout/row/Row';\nimport Item from '../layout/item/Item';\nimport Project from '../component/project/Project';\nimport ProjectOverlay from '../component/project/ProjectOverlay';\nimport Skill from '../component/skill/Skill';\nimport ScrollableRow from '../component/scrollable-row/ScrollableRow';\nimport Title from '../component/title/Title';\nimport Description from '../component/description/Description';\nimport RectScroller from '../component/rect-scroller/RectScroller';\nimport SkillService from '../services/Skill';\nimport ProjectService from '../services/Project';\nimport Zoomable from '../component/zoomable/Zoomable';\nimport './Project.css';\nimport './BasicPage.css';\nimport './slick.min.css';\n\nvar ProjectPage = /*#__PURE__*/function (_BasicPage) {\n  _inherits(ProjectPage, _BasicPage);\n\n  var _super = _createSuper(ProjectPage);\n\n  function ProjectPage(props) {\n    var _this;\n\n    _classCallCheck(this, ProjectPage);\n\n    _this = _super.call(this, props);\n    var name = props.router.query.project;\n    _this.timeoutId = undefined;\n    _this.sliderRef = /*#__PURE__*/React.createRef();\n    _this.state = {\n      project: ProjectService.getFromName(name),\n      activeSlide: 0\n    };\n    _this.isSliderSliding = false;\n    _this.goToWork = _this.goToWork.bind(_assertThisInitialized(_this));\n    _this.onSwipe = _this.onSwipe.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ProjectPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.container = window;\n      this.setState({\n        transitionVisible: !!window.projectListToProjectTransition\n      }, function () {\n        _this2.timeoutId = setTimeout(function () {\n          _this2.timeoutId = undefined;\n\n          _this2.setState({\n            transitionVisible: false\n          });\n        }, 500);\n      });\n      this.container.scroll({\n        top: 0,\n        left: 0,\n        behavior: 'instant'\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.timeoutId) {\n        clearTimeout(this.timeoutId);\n      }\n\n      this.container.scroll({\n        top: 0,\n        left: 0,\n        behavior: 'instant'\n      });\n      window.projectListToProjectTransition = undefined;\n    }\n  }, {\n    key: \"goToWork\",\n    value: function goToWork(e) {\n      e.preventDefault();\n      this.props.router.push('/work', undefined, {\n        shallow: true\n      });\n    }\n  }, {\n    key: \"setActiveSlide\",\n    value: function setActiveSlide(slide, e) {\n      var _this3 = this;\n\n      e.preventDefault();\n\n      if (this.state.activeSlide !== slide && !this.isSliderSliding) {\n        this.isSliderSliding = true;\n        window.setTimeout(function () {\n          _this3.isSliderSliding = false;\n        }, 500);\n        this.setState({\n          activeSlide: slide\n        });\n        this.sliderRef.current.slickGoTo(slide);\n      }\n    }\n  }, {\n    key: \"onSwipe\",\n    value: function onSwipe(direction) {\n      this.setState({\n        activeSlide: direction === 'left' ? 1 : 0\n      });\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      return this.state.project ? this.renderContentWithProject() : this.renderContentWithoutProject();\n    }\n  }, {\n    key: \"renderContentWithoutProject\",\n    value: function renderContentWithoutProject() {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n    }\n  }, {\n    key: \"renderContentWithProject\",\n    value: function renderContentWithProject() {\n      var _this4 = this;\n\n      var tabs = [{\n        test: this.state.project.description_project || '',\n        name: 'Le projet',\n        content: this.state.project.description_project || ''\n      }, {\n        test: this.state.project.description_mission,\n        name: 'La mission',\n        content: this.state.project.description_mission\n      }, {\n        test: this.state.project.start,\n        name: 'La durée',\n        content: \"\".concat(moment(this.state.project.start).locale('fr').format('LL'), \" - \").concat(this.state.project.end ? moment(this.state.project.end).locale('fr').format('LL') : 'Actuel')\n      }].filter(function (t) {\n        return t.test;\n      });\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"project-page-super-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"project-page-background\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"project-page-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"project-info-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-description-container\",\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                className: \"project-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'inline-block',\n                    position: 'relative'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Project, {\n                    backgroundColor: this.state.project.backgroundColor,\n                    backgroundImage: this.state.project.backgroundImage,\n                    name: this.state.project.name,\n                    logo: this.state.project.logo,\n                    isHoverable: false,\n                    fullSize: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: \"back-button-container\",\n                    onClick: this.goToWork,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: \"\\u2039\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 158,\n                      columnNumber: 99\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"project-title-container\",\n                  children: [/*#__PURE__*/_jsxDEV(Title, {\n                    text: this.state.project.name,\n                    noMargin: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 19\n                  }, this), this.state.project.url && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"view-project-anchor link\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: this.state.project.url,\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\",\n                      children: \"Voir le projet\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(ScrollableRow, {\n                    className: \"project-skills-container\",\n                    step: 164 / 2.5,\n                    children: this.state.project.languages.map(SkillService.getFromName).map(function (skill) {\n                      return /*#__PURE__*/_jsxDEV(Item, {\n                        children: /*#__PURE__*/_jsxDEV(Link, {\n                          href: \"/work?skill=\".concat(encodeURIComponent(skill.name)),\n                          children: /*#__PURE__*/_jsxDEV(Skill, {\n                            name: skill.name,\n                            backgroundColor: skill.backgroundColor,\n                            backgroundImage: skill.backgroundImage,\n                            experience: skill.experience,\n                            logo: skill.logo,\n                            isLittle: true\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 179,\n                            columnNumber: 29\n                          }, _this4)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 178,\n                          columnNumber: 27\n                        }, _this4)\n                      }, skill.name, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 177,\n                        columnNumber: 25\n                      }, _this4);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"project-scroller-container bp-small\",\n                children: /*#__PURE__*/_jsxDEV(RectScroller, {\n                  children: this.state.project.images.map(function (image) {\n                    return /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: \"/images-webp/project/\".concat(image),\n                      style: {\n                        backgroundColor: _this4.state.project.backgroundColor\n                      },\n                      alt: \"\".concat(_this4.state.project.name, \" \").concat(image)\n                    }, image, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 21\n                    }, _this4);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"project-description-header\",\n                children: tabs.map(function (tab, idx) {\n                  return /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: _this4.state.activeSlide === idx ? 'isActive' : undefined,\n                    onClick: function onClick(e) {\n                      return _this4.setActiveSlide(idx, e);\n                    },\n                    children: tab.name\n                  }, tab.name, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 21\n                  }, _this4);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"project-description-content\",\n                children: /*#__PURE__*/_jsxDEV(Slider, {\n                  settings: {\n                    dots: false,\n                    arrows: false,\n                    infinite: false\n                  },\n                  ref: this.sliderRef,\n                  onSwipe: this.onSwipe,\n                  children: tabs.map(function (tab) {\n                    return /*#__PURE__*/_jsxDEV(Description, {\n                      text: tab.content,\n                      noMargin: true\n                    }, \"\".concat(tab.name, \"|content\"), false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 220,\n                      columnNumber: 38\n                    }, _this4);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"project-scroller-container bp-large\",\n              children: /*#__PURE__*/_jsxDEV(RectScroller, {\n                children: this.state.project.images.map(function (image) {\n                  return /*#__PURE__*/_jsxDEV(Zoomable, {\n                    closeButton: ProjectPage.getCloseButton(),\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: \"/images-webp/project/\".concat(image),\n                      alt: \"\".concat(_this4.state.project.name, \" \").concat(image),\n                      style: {\n                        backgroundColor: _this4.state.project.backgroundColor,\n                        height: '100%',\n                        width: '100%'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 228,\n                      columnNumber: 21\n                    }, _this4)\n                  }, image, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 19\n                  }, _this4);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 13\n            }, this), this.state.transitionVisible && /*#__PURE__*/_jsxDEV(ProjectOverlay, {\n              outTransition: true,\n              backgroundColor: this.state.project.backgroundColor,\n              logo: this.state.project.logo,\n              isVisible: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 7\n      }, this);\n    }\n  }], [{\n    key: \"getCloseButton\",\n    value: function getCloseButton() {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"project-close-button-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return ProjectPage;\n}(BasicPage);\n\nexport default _c = withRouter(ProjectPage);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/meddou/projects/perso/meddou.com/src/pages/Project.jsx"],"names":["React","withRouter","Link","Slider","moment","BasicPage","Row","Item","Project","ProjectOverlay","Skill","ScrollableRow","Title","Description","RectScroller","SkillService","ProjectService","Zoomable","ProjectPage","props","name","router","query","project","timeoutId","undefined","sliderRef","createRef","state","getFromName","activeSlide","isSliderSliding","goToWork","bind","onSwipe","container","window","setState","transitionVisible","projectListToProjectTransition","setTimeout","scroll","top","left","behavior","clearTimeout","e","preventDefault","push","shallow","slide","current","slickGoTo","direction","renderContentWithProject","renderContentWithoutProject","tabs","test","description_project","content","description_mission","start","locale","format","end","filter","t","display","position","backgroundColor","backgroundImage","logo","url","languages","map","skill","encodeURIComponent","experience","images","image","tab","idx","setActiveSlide","dots","arrows","infinite","getCloseButton","height","width"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { withRouter } from 'next/router'\r\n\r\nimport Link from 'next/link'\r\nimport Slider from 'react-slick'\r\nimport moment from 'moment'\r\nimport 'moment/locale/fr';\r\n\r\nimport BasicPage from './BasicPage'\r\n\r\nimport Row from '../layout/row/Row'\r\nimport Item from '../layout/item/Item'\r\n\r\nimport Project from '../component/project/Project'\r\nimport ProjectOverlay from '../component/project/ProjectOverlay'\r\nimport Skill from '../component/skill/Skill'\r\nimport ScrollableRow from '../component/scrollable-row/ScrollableRow'\r\nimport Title from '../component/title/Title'\r\nimport Description from '../component/description/Description'\r\nimport RectScroller from '../component/rect-scroller/RectScroller'\r\n\r\nimport SkillService from '../services/Skill'\r\nimport ProjectService from '../services/Project'\r\n\r\nimport Zoomable from '../component/zoomable/Zoomable'\r\n\r\nimport './Project.css'\r\nimport './BasicPage.css'\r\nimport './slick.min.css'\r\n\r\nclass ProjectPage extends BasicPage {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    const name = props.router.query.project\r\n\r\n    this.timeoutId = undefined\r\n\r\n    this.sliderRef = React.createRef()\r\n\r\n    this.state = {\r\n      project: ProjectService.getFromName(name),\r\n      activeSlide: 0,\r\n    }\r\n    this.isSliderSliding = false\r\n\r\n    this.goToWork = this.goToWork.bind(this)\r\n    this.onSwipe = this.onSwipe.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.container = window\r\n\r\n    this.setState({\r\n      transitionVisible: !!window.projectListToProjectTransition,\r\n    }, () => {\r\n      this.timeoutId = setTimeout(() => {\r\n        this.timeoutId = undefined\r\n        this.setState({\r\n          transitionVisible: false,\r\n        })\r\n      }, 500)\r\n    })\r\n\r\n    this.container.scroll({\r\n      top: 0,\r\n      left: 0,\r\n      behavior: 'instant',\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.timeoutId) {\r\n      clearTimeout(this.timeoutId)\r\n    }\r\n    this.container.scroll({\r\n      top: 0,\r\n      left: 0,\r\n      behavior: 'instant',\r\n    })\r\n    window.projectListToProjectTransition = undefined\r\n  }\r\n\r\n  goToWork(e) {\r\n    e.preventDefault()\r\n    this.props.router.push('/work', undefined, { shallow: true })\r\n  }\r\n\r\n  setActiveSlide(slide, e) {\r\n    e.preventDefault()\r\n    if (this.state.activeSlide !== slide && !this.isSliderSliding) {\r\n      this.isSliderSliding = true\r\n      window.setTimeout(() => {\r\n        this.isSliderSliding = false\r\n      }, 500)\r\n      this.setState({ activeSlide: slide })\r\n      this.sliderRef.current.slickGoTo(slide)\r\n    }\r\n  }\r\n\r\n  onSwipe(direction) {\r\n    this.setState({ activeSlide: direction === 'left' ? 1 : 0 })\r\n  }\r\n\r\n  static getCloseButton() {\r\n    return (\r\n      <div className=\"project-close-button-container\">\r\n        <div>x</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderContent() {\r\n    return this.state.project ? this.renderContentWithProject() : this.renderContentWithoutProject()\r\n  }\r\n\r\n  renderContentWithoutProject() {\r\n    return <></>\r\n  }\r\n\r\n  renderContentWithProject() {\r\n\r\n    const tabs = [\r\n      {\r\n        test: this.state.project.description_project || '',\r\n        name: 'Le projet',\r\n        content: this.state.project.description_project || '',\r\n      },\r\n      {\r\n        test: this.state.project.description_mission,\r\n        name: 'La mission',\r\n        content: this.state.project.description_mission,\r\n      },\r\n      {\r\n        test: this.state.project.start,\r\n        name: 'La durée',\r\n        content: `${moment(this.state.project.start).locale('fr').format('LL')} - ${this.state.project.end\r\n          ? moment(this.state.project.end).locale('fr').format('LL') : 'Actuel'}`,\r\n      },\r\n    ].filter((t) => t.test)\r\n\r\n    return (\r\n      <div id=\"project-page-super-container\">\r\n        <div className=\"project-page-background\" />\r\n        <div id=\"project-page-container\">\r\n          <div className=\"project-info-container\">\r\n            <div className=\"project-description-container\">\r\n              <Row className=\"project-header\">\r\n                <div style={{ display: 'inline-block', position: 'relative' }}>\r\n                  <Project\r\n                    backgroundColor={this.state.project.backgroundColor}\r\n                    backgroundImage={this.state.project.backgroundImage}\r\n                    name={this.state.project.name}\r\n                    logo={this.state.project.logo}\r\n                    isHoverable={false}\r\n                    fullSize\r\n                  />\r\n                  <button type=\"submit\" className=\"back-button-container\" onClick={this.goToWork}><div>&#8249;</div></button>\r\n                </div>\r\n                <div className=\"project-title-container\">\r\n                  <Title text={this.state.project.name} noMargin />\r\n                  {this.state.project.url\r\n                    && (\r\n                      <div className=\"view-project-anchor link\">\r\n                        <a\r\n                          href={this.state.project.url}\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                        >\r\n                          Voir le projet\r\n                            </a>\r\n                      </div>\r\n                    )}\r\n                  <ScrollableRow className=\"project-skills-container\" step={164 / 2.5}>\r\n                    {this.state.project.languages.map(SkillService.getFromName)\r\n                      .map((skill) => (\r\n                        <Item key={skill.name}>\r\n                          <Link href={`/work?skill=${encodeURIComponent(skill.name)}`}>\r\n                            <Skill\r\n                              name={skill.name}\r\n                              backgroundColor={skill.backgroundColor}\r\n                              backgroundImage={skill.backgroundImage}\r\n                              experience={skill.experience}\r\n                              logo={skill.logo}\r\n                              isLittle\r\n                            />\r\n                          </Link>\r\n                        </Item>\r\n                      ))}\r\n                  </ScrollableRow>\r\n                </div>\r\n              </Row>\r\n              <div className=\"project-scroller-container bp-small\">\r\n                <RectScroller>\r\n                  {this.state.project.images.map((image) => (\r\n                    <img src={`/images-webp/project/${image}`} key={image} style={{ backgroundColor: this.state.project.backgroundColor }} alt={`${this.state.project.name} ${image}`} />\r\n                  ))}\r\n                </RectScroller>\r\n              </div>\r\n              <div className=\"project-description-header\">\r\n                {\r\n                  tabs.map((tab, idx) => (\r\n                    <button\r\n                      type=\"submit\"\r\n                      key={tab.name}\r\n                      className={this.state.activeSlide === idx ? 'isActive' : undefined}\r\n                      onClick={(e) => this.setActiveSlide(idx, e)}\r\n                    >\r\n                      {tab.name}\r\n                    </button>\r\n                  ))\r\n                }\r\n              </div>\r\n              <div className=\"project-description-content\">\r\n                <Slider\r\n                  settings={{ dots: false, arrows: false, infinite: false }}\r\n                  ref={this.sliderRef}\r\n                  onSwipe={this.onSwipe}\r\n                >\r\n                  {tabs.map((tab) => <Description text={tab.content} key={`${tab.name}|content`} noMargin />)}\r\n                </Slider>\r\n              </div>\r\n            </div>\r\n            <div className=\"project-scroller-container bp-large\">\r\n              <RectScroller>\r\n                {this.state.project.images.map((image) => (\r\n                  <Zoomable key={image} closeButton={ProjectPage.getCloseButton()}>\r\n                    <img src={`/images-webp/project/${image}`} alt={`${this.state.project.name} ${image}`} style={{ backgroundColor: this.state.project.backgroundColor, height: '100%', width: '100%' }} />\r\n                  </Zoomable>\r\n                ))}\r\n              </RectScroller>\r\n            </div>\r\n            {this.state.transitionVisible\r\n              && (\r\n                <ProjectOverlay\r\n                  outTransition\r\n                  backgroundColor={this.state.project.backgroundColor}\r\n                  logo={this.state.project.logo}\r\n                  isVisible\r\n                />\r\n              )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(ProjectPage)\r\n"]},"metadata":{},"sourceType":"module"}